<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
		<title>家庭理财</title>
		<link rel="stylesheet" type="text/css" href="css/style.css"/>
		<script src="js/fontrem.js" type="text/javascript" charset="utf-8"></script>
	</head>
	<body>
		<div class="wrapper" id="app">
			<div class="video">
				<!--<img src="img/img.jpg"/>-->
				<!--<div class="play_btn"></div>-->
				<video :src='ViewPointUrl' controls></video>
			</div>
			<div class="title" v-text="ViewPointTitle"></div>
			<div class="recommend">
				<div class="title">栏目介绍</div>
				<p v-text="ViewPointResume"></p>
			</div>
			<div class="news_list">
				<div class="title">往期回放</div>
				<ul>
					<li v-for="item in VideoRecList" @click="tokdDetail(item.Id,item.ProgramId)">
						<dl>
							<dt>
								<a href="javascript:;"><img :src="item.VideoScreen"/></a>
							</dt>
							<dd><a href="javascript:;" v-text="item.VideoTitle"></a></dd>
						</dl>
					</li>
				</ul>
			</div>
		</div>
		<script src="http://libs.baidu.com/jquery/2.0.0/jquery.min.js"></script>
		<script src="js/vue.min.js" type="text/javascript" charset="utf-8"></script>
		<script type="text/javascript">
			var app = new Vue({
				el: '#app',
				data: {
					ViewPointUrl: "",
					ViewPointTitle: "",
					ViewPointResume: "",
					VideoRecList: []
				},
				mounted: function(){
					var self = this;
					this.$nextTick(function(){
						$.ajax({
							type: "GET",
							url: "http://backlogin.tvlicai.com/guzhang/LcSharePageDetailDateH5/235/1014/10/1?jsoncallback=?",
							dataType: "jsonp",
							success: function(data) {
								console.log(data)
								self.ViewPointUrl = data.ViewPointUrl;
								self.ViewPointTitle = data.ViewPointTitle;
								self.ViewPointResume = data.ViewPointResume;
								self.VideoRecList = data.VideoRec;
							}
						});
					})
				},
				methods: {
					tokdDetail:function(id,ProgramId){
						window.location.href = "details.html?id="+id+"&programId="+ProgramId+"";
					}
				}
			});
		</script>
	</body>
</html>
